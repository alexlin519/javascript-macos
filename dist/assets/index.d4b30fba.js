var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,i=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&s(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&s(e,n,t[n]);return e},c=(e,a)=>t(e,n(a));import{o as l,a as d,b as u,r as p,R as m,c as g,m as f,d as h,C as v,l as E}from"./vendor.dff8b7e3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var x="/javascript-macos/assets/Calculator.fe7118ef.png",w="/javascript-macos/assets/Chrome.b4d8139e.png",b="/javascript-macos/assets/Drawing.9202b739.png",S="/javascript-macos/assets/Launchpad.a38577d7.png",C="/javascript-macos/assets/Preferences.308a35b6.png",k=Object.defineProperty,y=Object.getOwnPropertyDescriptor,N=(e,t,n,a)=>{for(var r,o=a>1?void 0:a?y(t,n):t,s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a?r(t,n,o):r(o))||o);return a&&o&&k(t,n,o),o};class L{constructor(){this.queue=[]}addModal(e){!this.queue.find((t=>t===e))&&this.queue.push(e)}removeModal(e){const t=this.queue.indexOf(e);-1!==t&&this.queue.splice(t,1)}}N([l],L.prototype,"queue",2),N([d],L.prototype,"addModal",1),N([d],L.prototype,"removeModal",1);var O=new L;var I=u((({children:e,domEl:t,data:n})=>{const[a,r]=p.exports.useState(1),o=document.getElementById(n.id),s=document.getElementById(n.moveId),l=localStorage.getItem(n.id)||null,d=l?JSON.parse(l):{x:-1===n.width?0:(window.innerWidth-n.width)/2,y:-1===n.height?0:(window.innerHeight-n.height)/2},[u,g]=p.exports.useState({isDragging:!1,origin:{x:0,y:0},position:d}),f=p.exports.useCallback((({clientX:e,clientY:t})=>{r(a+O.queue.length+1),g((n=>c(i({},n),{isDragging:!0,origin:{x:e-n.position.x,y:t-n.position.y}})))}),[a]),h=p.exports.useCallback((({clientX:e,clientY:t,target:n})=>{if(!u.isDragging||s&&n!==s)return;let a=e-u.origin.x,r=t-u.origin.y;a<=0?a=0:a>window.innerWidth-o.offsetWidth&&(a=window.innerWidth-o.offsetWidth),r<=0?r=0:r>window.innerHeight-o.offsetHeight&&(r=window.innerHeight-o.offsetHeight);const l={x:a,y:r};g((e=>c(i({},e),{position:l})))}),[u.isDragging,u.origin,s,o]),v=p.exports.useCallback((()=>{u.isDragging&&g((e=>c(i({},e),{isDragging:!1})))}),[u.isDragging]);p.exports.useEffect((()=>{-1===n.width&&g({isDragging:!1,origin:{x:0,y:0},position:{x:0,y:0}})}),[n.width]),p.exports.useEffect((()=>{if(t)return t.addEventListener("mousemove",h),t.addEventListener("mouseup",v),()=>{t.removeEventListener("mousemove",h),t.removeEventListener("mouseup",v),-1!==n.width&&localStorage.setItem(n.id,JSON.stringify(u.position))}}),[t,h,v,n.id,n.width,u.position]);const E=p.exports.useMemo((()=>({left:`${u.position.x}px`,top:`${u.position.y}px`,zIndex:a,display:n.isShow?"block":"none",position:"absolute"})),[u.position.x,u.position.y,a,n.isShow]);return m.createElement("div",{id:n.id,style:E,onMouseDown:f},e)}));const D=({children:e,data:t})=>{const n=document.getElementById("main-view");return n?g.createPortal(m.createElement(I,{domEl:n,data:t},e),n):null},R=e=>{const[t,n]=p.exports.useState(!1);return{open:p.exports.useCallback((()=>{n(!0),O.addModal(e)}),[e]),close:p.exports.useCallback((()=>{n(!1),O.removeModal(e)}),[e]),RenderModal:({children:e,data:n})=>m.createElement(m.Fragment,null,t&&m.createElement(D,{data:n},e))}};var T,z,_,M;(z=T||(T={})).BOTTOM="bottom",z.TOP="top",z.RIGHT="right",z.LEFT="left",(M=_||(_={})).RUNNING_IN_BACKGROUND="RUNNING_IN_BACKGROUND",M.RUNNING_IN_FOREGROUND="RUNNING_IN_FOREGROUND",M.CLOSED="CLOSED";const P=["AC","+/-","%","÷","7","8","9","×","4","5","6","-","1","2","3","+","0",".","="],B=()=>{const[e,t]=p.exports.useState(P),[n,a]=p.exports.useState({operand1:"",operand2:""}),[r,o]=p.exports.useState(""),[s,i]=p.exports.useState("0"),c=e=>(e=/\.\d+?0+$/g.test(e)?e.replace(/0+$/g,""):e).replace(/\.0+$/g,"").replace(/\.0+e/,"e").replace(/0+e/,"e").replace(/\.$/,""),l=p.exports.useCallback(((e,t)=>{const r={operand1:"operand1"!==e||"0"===n[e]&&"."!==t?n.operand1:n[e]+t,operand2:"operand2"!==e||"0"===n[e]&&"."!==t?n.operand2:n[e]+t};a(r),i(r[e].length>6?c(parseFloat(r[e]).toPrecision(6)):r[e])}),[n]),d=p.exports.useCallback(((e,t,n)=>{const a=parseFloat(e),r=parseFloat(t),o=parseFloat(s);return"+"===n?(a+r).toPrecision(6):"-"===n?(a-r).toPrecision(6):"×"===n?(a*r).toPrecision(6):"÷"===n?0===r?"NAN":(a/r).toPrecision(6):"+/-"===n?(-(o||a)||0).toPrecision(6):"%"===n?((o||a)/100||0).toPrecision(6):s}),[s]),u=p.exports.useCallback((e=>{if(e.target instanceof HTMLButtonElement){const u=e.target.textContent;if("0123456789.".indexOf(u)>=0){const e=[...P];e.shift(),e.unshift("C"),t(e),l(r?"operand2":"operand1",u)}else if("+-×÷".indexOf(u)>=0)a({operand1:n.operand1?n.operand1:s,operand2:n.operand2}),o(u);else if("=".indexOf(u)>=0)n.operand1&&n.operand2&&(i(c(d(n.operand1,n.operand2,r))),a({operand1:"",operand2:""}),o(""));else if("C"===u)i("0"),a({operand1:"",operand2:""}),o(""),t(P);else if(("+/-"===u||"%"===u)&&(n.operand1||s)){const e=c(d(n.operand1,n.operand2,u)),t=n.operand2?{operand1:n.operand1,operand2:e}:{operand1:e,operand2:""};a(t),i(e)}}}),[r,n,s,l,d]);return p.exports.useEffect((()=>i(s)),[s]),m.createElement("div",{className:"calculator-wrapper"},m.createElement("div",{className:"output-wrapper"},m.createElement("div",{className:"output"},m.createElement("span",null,s))),m.createElement("div",{className:"row",onClick:e=>u(e)},e.map(((e,t)=>m.createElement("button",{className:[0,1,2].includes(t)?"dark button text-":[3,7,11,15,18].includes(t)?"orange button text-":"button text-"+e,key:e},e)))))},G=e=>{const{open:t,close:n,RenderModal:a}=R("CalculatorView"),{calculatorState:r,setCalculatorState:o}=e;return p.exports.useEffect((()=>{r===_.CLOSED?n():t()}),[n,t,r]),m.createElement(a,{data:{width:410,height:560,id:"CalculatorView",moveId:"calculatorMove",isShow:r===_.RUNNING_IN_FOREGROUND}},m.createElement(m.Fragment,null,m.createElement(f.TitleBar,{id:"calculatorMove",transparent:!0,controls:!0,isFullscreen:!1,onCloseClick:()=>{n(),o(_.CLOSED)},onMinimizeClick:()=>{o(_.RUNNING_IN_BACKGROUND)},onMaximizeClick:t}),m.createElement(B,null)))};const F=document.createElement("script");F.src="//at.alicdn.com/t/font_1848517_ds8sk573mfk.js",document.body.appendChild(F);const U=({className:e,type:t,style:n,svgRef:a,clickEvent:r})=>m.createElement("svg",{ref:a,className:e?"icon-font "+e:"icon-font","aria-hidden":"true",style:n,onClick:r},m.createElement("use",{xlinkHref:`#${t}`})),V=e=>{const{width:t,height:n,drawingRef:a,drawingState:r,setDrawingState:o}=e,s=p.exports.useRef(null),i=p.exports.useRef(null),c=p.exports.useRef(null),[l,d]=p.exports.useState("black"),[u,g]=p.exports.useState(5),[E,x]=p.exports.useState(!1),[w,S]=p.exports.useState(!1),[C,k]=p.exports.useState(void 0),[y,N]=p.exports.useState(-1),[L,O]=p.exports.useState([]),I=e=>{if(s.current)return{x:e.offsetX,y:e.offsetY}},D=p.exports.useCallback((e=>{const t=I(e);t&&(k(t),S(!0))}),[]),R=p.exports.useCallback(((e,t)=>{if(!s.current)return;const n=s.current.getContext("2d");n&&(n.strokeStyle=l,n.lineJoin="round",n.lineWidth=u,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath(),n.stroke())}),[u,l]),T=p.exports.useCallback((({x:e,y:t,width:n,height:a})=>{if(!s.current)return;const r=s.current.getContext("2d");r&&r.clearRect(e,t,n,a)}),[]),z=p.exports.useCallback((e=>{if(w){const t=I(e);C&&t&&(E?T({x:t.x-u/2,y:t.y-u/2,width:u,height:u}):(R(C,t),k(t)))}}),[w,E,C,u,R,T]),M=p.exports.useCallback((()=>{if(N(y+1),!s.current)return;const e=s.current;if(L.push(e.toDataURL()),O(L),!i.current||!c.current)return;const t=i.current,n=c.current;t.classList.add("active"),n.classList.remove("active")}),[y,L]),P=p.exports.useCallback((()=>{S(!1),k(void 0),M()}),[M]),B=p.exports.useCallback((()=>{S(!1),k(void 0)}),[]);p.exports.useEffect((()=>{if(!s.current)return;const e=s.current;return e.addEventListener("mousedown",D),e.addEventListener("mousemove",z),e.addEventListener("mouseup",P),e.addEventListener("mouseleave",B),()=>{e.removeEventListener("mousedown",D),e.removeEventListener("mousemove",z),e.removeEventListener("mouseup",P),e.removeEventListener("mouseleave",B)}}),[D,z,P,B]);const[G,F]=p.exports.useState(!0),V=p.exports.useCallback((()=>{F(!G)}),[G]),H=p.exports.useCallback(((e,t)=>{const n=e.currentTarget;n.classList[1]||(x("canvas_eraser"===t),n.classList.add("active"),n.parentNode.childNodes.forEach((e=>{e.matches("svg")&&e!==n&&e.classList.remove("active")})))}),[]),j=p.exports.useCallback((([e,t,n])=>{const a=e.target;a.className.includes("active")||(d(n),a.classList.add("active"),a.parentNode.childNodes.forEach((e=>{e.matches(t)&&e!==a&&e.classList.remove("active")})))}),[]),{openDialog:Y,closeDialog:A,RenderDialog:W}=(()=>{const[e,t]=p.exports.useState(!1);return{openDialog:()=>t(!0),closeDialog:()=>t(!1),RenderDialog:t=>{const{width:n,height:a,id:r,title:o,message:s,imgSource:i,onConfirm:c,onCancel:l}=t,d=p.exports.useMemo((()=>({width:n,height:a,left:`calc(50vw - ${n/2}px)`,top:`calc(50vh - ${a}px)`,borderRadius:4})),[n,a]);return m.createElement(m.Fragment,null,e&&m.createElement("div",{id:r,style:d},m.createElement(f.Dialog,{title:o,message:s,icon:i?m.createElement("img",{src:i,width:"52",height:"52",alt:"tip"}):m.createElement(m.Fragment,null),buttons:[m.createElement(f.Button,{key:"cancel",onClick:l},"Cancel"),m.createElement(f.Button,{key:"confirm",color:"blue",onClick:c},"Confirm")]})))}}})(),[$,q]=p.exports.useState(!1),[K,X]=p.exports.useState(!1);p.exports.useImperativeHandle(a,(()=>({drawingCloseClick:()=>{if(-1===y)o(_.CLOSED);else if($)return;X(!0)}})));const[J,Q]=p.exports.useState({title:"Clear drawings?",message:"This action cannot be undone."});p.exports.useEffect((()=>{K?$||(Q({title:"Close and exit?",message:"You will lose your drawings."}),q(!0)):Q({title:"Clear drawings?",message:"This action cannot be undone."})}),[K,$]),p.exports.useEffect((()=>$?Y():A()),[A,$,Y]);const Z=p.exports.useCallback((()=>{if(!s.current)return;const e=s.current,a=e.getContext("2d");if(a){const r=a.globalCompositeOperation;a.globalCompositeOperation="destination-over",a.fillStyle="#fff",a.fillRect(0,0,t,n);const o=e.toDataURL("image/png");a.putImageData(a.getImageData(0,0,t,n),0,0),a.globalCompositeOperation=r;const s=document.createElement("a");document.body.appendChild(s),s.href=o;const i="MMM D, YYYY h:mm A",c=h().format(i);s.download=`Saved Drawings ${c}`,s.target="_blank",s.click()}}),[t,n]),ee=p.exports.useCallback((e=>{if(!s.current||!i.current||!c.current)return;const a=s.current.getContext("2d"),r=i.current,o=c.current;if(a){let s=-1;if("undo"===e&&y>=0)s=y-1,o.classList.add("active"),s<0&&r.classList.remove("active");else{if(!("redo"===e&&y<L.length-1))return;s=y+1,r.classList.add("active"),s===L.length-1&&o.classList.remove("active")}a.clearRect(0,0,t,n);const i=new Image;i.src=L[s],i.addEventListener("load",(()=>{a.drawImage(i,0,0)})),N(s)}}),[L,y,t,n]),te=p.exports.useCallback((e=>{switch(e){case"canvas_clear":if(-1===y)return;q(!0);break;case"canvas_save":Z();break;case"turn_left_flat":ee("undo");break;case"turn_right_flat":ee("redo")}}),[Z,ee,y]),ne=p.exports.useCallback((()=>{q(!1),K&&X(!1)}),[q,K,X]),ae=p.exports.useCallback((()=>{if(T({x:0,y:0,width:t,height:n}),O([]),N(-1),ne(),!i.current||!c.current)return;const e=i.current,a=c.current;e.classList.remove("active"),a.classList.remove("active"),K&&(o(_.CLOSED),X(!1))}),[ne,T,t,n,K,X,r,o]);return m.createElement(m.Fragment,null,m.createElement("canvas",{id:"canvas",ref:s,height:n,width:t}),m.createElement("div",{id:"toolbox-open",style:{borderRadius:G?null:5}},m.createElement(U,{type:G?"icon-upward_flat":"icon-downward_flat",style:{width:"100%",fontSize:32},clickEvent:V})),m.createElement(v,{in:G,timeout:300,classNames:"toolbox",unmountOnExit:!0},m.createElement("div",{id:"toolbox"},m.createElement("span",null,"Options"),m.createElement("div",{className:"options"},["canvas_save","canvas_clear","turn_left_flat","turn_right_flat"].map(((e,t)=>m.createElement(U,{svgRef:"turn_right_flat"===e?c:"turn_left_flat"===e?i:void 0,key:t+e,className:e,type:"icon-"+e,style:{fontSize:50},clickEvent:()=>te(e)})))),m.createElement("span",null,"Toolbox"),m.createElement("div",{className:"tools"},["canvas_paint","canvas_eraser"].map(((e,t)=>m.createElement(U,{key:t+e,className:"canvas_eraser"===e?E?"active":"":E?"":"active",type:"icon-"+e,style:{fontSize:50},clickEvent:t=>H(t,e)})))),m.createElement("div",{className:"sizes"},m.createElement("input",{style:{backgroundColor:E?"#ebeff4":l},type:"range",id:"range",name:"range",min:"1",max:"20",value:u,onChange:e=>g(parseInt(e.target.value))})),m.createElement("ol",{className:"colors"},["black","red","green","blue"].map(((e,t)=>m.createElement("li",{className:e===l?e+" active":e,key:t+e,onClick:t=>j([t,"li",e])}))),m.createElement("input",{type:"color",value:l,onChange:e=>d(e.target.value),id:"currentColor"})))),m.createElement(W,{width:300,height:120,id:"clear-dialog",title:J.title,message:J.message,imgSource:b,onConfirm:ae,onCancel:ne}))};V.defaultProps={width:window.innerWidth,height:window.innerHeight};const H=e=>{const{open:t,close:n,RenderModal:a}=R("DrawingView"),{drawingState:r,setDrawingState:o}=e,[s,i]=p.exports.useState({width:1e3,height:600}),[c,l]=p.exports.useState(!1);p.exports.useEffect((()=>{r===_.CLOSED?n():t()}),[n,t,r]);const d=p.exports.useCallback((()=>{i(c?{width:1e3,height:600}:{width:-1,height:-1}),l(!c)}),[c]),u=p.exports.useRef();return m.createElement(a,{data:{width:s.width,height:s.height,id:"DrawingView",moveId:"DrawingMove",isShow:r===_.RUNNING_IN_FOREGROUND}},m.createElement("div",{className:"drawing-wrapper"},m.createElement(f.TitleBar,{controls:!0,id:"DrawingMove",isFullscreen:c,onCloseClick:()=>{u.current&&u.current.drawingCloseClick()},onMinimizeClick:()=>{o(_.RUNNING_IN_BACKGROUND)},onMaximizeClick:d,onResizeClick:d}),m.createElement(V,{drawingRef:u,height:c?window.innerHeight-32:s.height,width:c?window.innerWidth:s.width,drawingState:r,setDrawingState:o})))};const j=e=>{const{children:t,id:n,onDrag:a,onDragEnd:r}=e,[o,s]=p.exports.useState({dragging:!1,origin:{x:0,y:0},translation:{x:0,y:0}}),l=p.exports.useCallback((e=>{const{clientX:t,clientY:n}=e;s((e=>c(i({},e),{dragging:!0,origin:{x:t,y:n}})))}),[]),d=p.exports.useCallback((e=>{const{clientX:t,clientY:r}=e,l={x:t-o.origin.x,y:r-o.origin.y};s((e=>c(i({},e),{translation:l}))),a({translation:l,id:n})}),[o.origin,a,n]),u=p.exports.useCallback((()=>{s((e=>c(i({},e),{dragging:!1}))),r()}),[r]);p.exports.useEffect((()=>{o.dragging?(window.addEventListener("mousemove",d),window.addEventListener("mouseup",u)):(window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",u),s((e=>c(i({},e),{translation:{x:0,y:0}}))))}),[o.dragging,d,u]);const g=p.exports.useMemo((()=>({cursor:o.dragging?"-webkit-grabbing":"-webkit-grab",transform:`translate(${o.translation.x}px, ${o.translation.y}px)`,transition:o.dragging?"none":"transform 500ms",zIndex:o.dragging?2:1})),[o.dragging,o.translation]);return m.createElement("div",{style:g,onMouseDown:l},t)},Y=e=>{const[t]=p.exports.useState([C,w,x,b]),n=E.exports.range(t.length),[a,r]=p.exports.useState({dragging:!1,order:n,temporaryOrder:n,draggedIconId:null}),o=p.exports.useCallback((e=>{const{translation:t,id:o}=e;r((e=>c(i({},e),{dragging:!0})));const s=Math.round(t.x/100),l=a.order.indexOf(o),d=a.order.filter((e=>e!==o));E.exports.inRange(l+s,0,n.length)&&(d.splice(l+s,0,o),r((e=>c(i({},e),{draggedIconId:o,temporaryOrder:d}))))}),[a.order,n.length]),s=p.exports.useCallback((()=>{r((e=>c(i({},e),{order:e.temporaryOrder,draggedIconId:null})))}),[]);p.exports.useEffect((()=>{const t=t=>{const{key:n}=t;"Escape"===n&&e.setShowLaunchPad(!1)},n=t=>{const{target:n}=t;if(!e.showLaunchpad)return;const a=document.getElementsByClassName("LaunchpadImg");for(let e=0;e<a.length;e++)if(a[e]===n)return;e.setShowLaunchPad(!e.showLaunchpad)};return window.addEventListener("click",n),window.addEventListener("keyup",t),()=>{window.removeEventListener("click",n),window.removeEventListener("keyup",t)}}),[e]);const l=t.map(((t,n)=>{const l=a.draggedIconId===n,d=200*a.temporaryOrder.indexOf(n),u=200*a.order.indexOf(n),p=(t.split("/").pop()||"").split(".")[0];return m.createElement(j,{key:n,id:n,onDrag:o,onDragEnd:s},m.createElement("div",{className:"LaunchpadItem",style:{left:l?u:d,transition:l?"none":"all 500ms"}},m.createElement("div",{className:"LaunchpadImg",style:{backgroundImage:"url("+t+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},onClick:()=>{a.dragging?r((e=>c(i({},e),{dragging:!1}))):e.handleDockIconClick(t)}}),m.createElement("span",{style:{color:"#fff"}},p)))}));return m.createElement(m.Fragment,null,e.showLaunchpad&&m.createElement("div",{id:"Launchpad"},m.createElement("div",{id:"LaunchpadItemWrapper"},l)))};const A=[T.BOTTOM,T.TOP,T.RIGHT,T.LEFT],W=e=>{const{open:t,close:n,RenderModal:a}=R("PreferencesView"),{dockConfig:r,setDockConfig:o,preferencesState:s,setPreferencesState:l}=e,d=[{title:"Default icon size",value:1*r.iconSize,maxValue:128,minValue:25},{title:"When you hover over an icon, its size will be",value:1*r.bigIconSize,maxValue:256,minValue:25},{title:"The distance between icons",value:1*r.distanceBetweenIcons,maxValue:10,minValue:0},{title:"The distance between the dock and the edge of the screen",value:1*r.distanceToScreenEdge,maxValue:100,minValue:0}];p.exports.useEffect((()=>{s===_.CLOSED?n():t()}),[n,t,s]);const u=p.exports.useCallback(((e,t)=>{switch(t){case"Default icon size":o(c(i({},r),{iconSize:e}));break;case"When you hover over an icon, its size will be":o(c(i({},r),{bigIconSize:e}));break;case"The distance between icons":o(c(i({},r),{distanceBetweenIcons:e}));break;case"The distance between the dock and the edge of the screen":o(c(i({},r),{distanceToScreenEdge:e}))}}),[r,o]),g=d.map(((e,t)=>m.createElement("div",{className:"options",key:t+e.value},m.createElement(f.Text,{bold:!0,marginBottom:"10px"},e.title),m.createElement("input",{min:e.minValue,max:e.maxValue,type:"range",value:e.value,onChange:t=>{u(parseInt(t.target.value),e.title)}}),m.createElement("span",null,e.value))));return m.createElement(a,{data:{width:684,height:466,id:"PreferencesView",moveId:"PreferencesMove",isShow:s===_.RUNNING_IN_FOREGROUND}},m.createElement(m.Fragment,null,m.createElement(f.TitleBar,{id:"PreferencesMove",controls:!0,inset:!0,isFullscreen:!1,onCloseClick:()=>{n(),l(_.CLOSED)},onMinimizeClick:()=>{l(_.RUNNING_IN_BACKGROUND)},onMaximizeClick:t}),m.createElement("div",{className:"mainSet"},m.createElement(f.View,{className:"leftSet"},m.createElement(f.ListView,null,m.createElement(f.ListViewRow,{background:"#bfbfbf",padding:"11px 20px"},m.createElement(U,{type:"icon-ios-home",style:{marginRight:"6px"}}),m.createElement(f.Text,{color:"#414141",size:"14",bold:!0},"General")))),m.createElement(f.View,{className:"rightSet"},m.createElement(f.Text,{bold:!0,marginBottom:"10px",size:"20"},"General"),m.createElement("div",{className:"divide"}),g,m.createElement(f.Text,{bold:!0,marginBottom:"10px"},"Dock position"),m.createElement(f.View,{style:{lineHeight:"22px"}},A.map(((e,t)=>m.createElement("div",{style:{paddingRight:28},key:t+e},m.createElement(f.Radio,{label:e,name:e,onChange:e=>{o(c(i({},r),{position:e.target.value}))},defaultValue:e,defaultChecked:e===r.position})))))))))},$=()=>{const e=p.exports.useRef(null),t=p.exports.useMemo((()=>["/javascript-macos/assets/Finder.ed608870.png",S,C,w,"/javascript-macos/assets/Terminal.ff1c0f4d.png",x,b]),[]),[n,a]=p.exports.useState({position:T.BOTTOM,iconSize:68,bigIconSize:102,distanceBetweenIcons:0,distanceToScreenEdge:5,style:{}}),[r,o]=p.exports.useState(_.CLOSED),[s,l]=p.exports.useState(_.CLOSED),[d,u]=p.exports.useState(_.CLOSED),[g,f]=p.exports.useState(!1),h=p.exports.useCallback((n=>{if(!e||!e.current)return;const a=e.current.childNodes[t.indexOf(n)];if(n!==w)if(n!==C&&n!==x&&n!==b)n!==S||f(!g);else{f(!1);let e=r,t=o;switch(n){case C:e=r,t=o;break;case x:e=s,t=l;break;case b:e=d,t=u}e===_.CLOSED?(a.classList.add("bounce"),setTimeout((()=>{t(_.RUNNING_IN_FOREGROUND),a.classList.remove("bounce")}),1500)):t(_.RUNNING_IN_FOREGROUND)}else window.open("http://www.google.com/")}),[t,r,s,d,1500,g]),v=p.exports.useCallback(((e,t)=>{const n="top"===t?e.offsetTop:e.offsetLeft;return null===e.offsetParent?n:n+v(e.offsetParent,t)}),[]),E=p.exports.useCallback((t=>{const{clientX:a,clientY:r}=t;if(!e||!e.current)return;const o=e.current.childNodes;for(let s=0;s<o.length;s++){const t=o[s];let i,c;n.position===T.BOTTOM?(i=t.offsetLeft+n.iconSize/2-a,c=t.offsetTop+v(e.current,"top")+t.offsetHeight/2-r):n.position===T.RIGHT?(i=t.offsetTop+n.iconSize/2-r,c=t.offsetLeft+v(e.current,"left")+t.offsetWidth/2-a):(i=t.offsetTop+n.iconSize/2-r,c=t.offsetLeft+n.iconSize/2-a);let l=1-Math.sqrt(i*i+c*c)/(o.length*n.iconSize);l<n.iconSize/n.bigIconSize&&(l=n.iconSize/n.bigIconSize);const d=n.bigIconSize/n.iconSize;n.bigIconSize/n.iconSize&&(t.style.height=t.style.width=n.iconSize*d*l+"px")}}),[n,v]),k=p.exports.useCallback((()=>{if(!e.current)return;n.position===T.BOTTOM?a(c(i({},n),{style:{height:1*n.iconSize+12,marginBottom:1*n.distanceToScreenEdge}})):n.position===T.TOP?a(c(i({},n),{style:{height:1*n.iconSize+12,marginTop:1*n.distanceToScreenEdge}})):n.position===T.LEFT?a(c(i({},n),{style:{width:1*n.iconSize+12,marginLeft:1*n.distanceToScreenEdge}})):n.position===T.RIGHT&&a(c(i({},n),{style:{width:1*n.iconSize+12,marginRight:1*n.distanceToScreenEdge}}));const t=e.current.childNodes;for(let e=0;e<t.length;e++){const a=t[e];a.style.width=a.style.height=n.iconSize+"px"}}),[n]);p.exports.useEffect(k,[n.position,n.iconSize,n.bigIconSize,n.distanceBetweenIcons,n.distanceToScreenEdge]);p.exports.useEffect((()=>{if(!e||!e.current)return;const n=e.current.childNodes,a=t.indexOf(C),o=t.indexOf(x),i=t.indexOf(b),c=n[a],l=n[o],u=n[i];r!==_.CLOSED?c.classList.add("active"):setTimeout((()=>c.classList.remove("active")),500),s!==_.CLOSED?l.classList.add("active"):setTimeout((()=>l.classList.remove("active")),500),d!==_.CLOSED?u.classList.add("active"):setTimeout((()=>u.classList.remove("active")),500)}),[s,t,d,r]);const y=p.exports.useMemo((()=>n.position===T.TOP||n.position===T.BOTTOM?{marginLeft:1*n.distanceBetweenIcons,marginRight:1*n.distanceBetweenIcons}:{marginTop:1*n.distanceBetweenIcons,marginBottom:1*n.distanceBetweenIcons}),[n]);return m.createElement(m.Fragment,null,m.createElement(W,{dockConfig:n,setDockConfig:a,preferencesState:r,setPreferencesState:o}),m.createElement(G,{calculatorState:s,setCalculatorState:l}),m.createElement(H,{drawingState:d,setDrawingState:u}),m.createElement(Y,{showLaunchpad:g,setShowLaunchPad:f,handleDockIconClick:h}),m.createElement("footer",{className:n.position,id:"AppFooter"},m.createElement("div",{id:"Docker",ref:e,className:n.position,style:n.style,onMouseLeave:k,onMouseMove:E},t.map(((e,t)=>m.createElement("div",{className:[S,C,w,x,b].includes(e)?"pointer DockItem "+n.position:n.position+" DockItem",style:i({backgroundImage:`url(${e})`,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},y),key:t+e,onClick:()=>h(e)}))))))};h.locale("en");const q=()=>{const e="MMM D, YYYY h:mm A",[t,n]=p.exports.useState(h().format(e)),[a,r]=p.exports.useState(!1),[o,s]=p.exports.useState("Chuntong Gao");return p.exports.useEffect((()=>{const t=setInterval((()=>{const t=h().format(e);n(t)}),6e4);return()=>window.clearInterval(t)})),m.createElement("header",{className:"Header"},m.createElement("div",{className:"HeaderLeft"},m.createElement("div",null,m.createElement(U,{type:"icon-apple",style:{fontSize:16}})),m.createElement("div",null,a?m.createElement("input",{autoFocus:!0,value:o,onChange:e=>s(e.target.value),onBlur:()=>r(!1)}):m.createElement("span",{className:"text",onClick:()=>r(!0)},o)),m.createElement("div",null,"File"),m.createElement("div",null,"Edit"),m.createElement("div",null,"View"),m.createElement("div",null,"Go"),m.createElement("div",null,"Window"),m.createElement("div",null,"Help")),m.createElement("div",{className:"HeaderRight"},m.createElement("a",{href:"https://cgao.info",rel:"noopener noreferrer",target:"_blank"},m.createElement(U,{type:"icon-ren",style:{fontSize:22}})),m.createElement("a",{href:"https://github.com/chuntonggao",rel:"noopener noreferrer",target:"_blank"},m.createElement(U,{type:"icon-github",style:{fontSize:22}})),m.createElement("div",null,t)))};const K=()=>m.createElement("div",{className:"AppMain"},m.createElement("div",{id:"main-view"})),X=()=>m.createElement("div",{className:"App"},m.createElement(q,null),m.createElement(K,null),m.createElement($,null));g.render(m.createElement(m.StrictMode,null,m.createElement(X,null)),document.getElementById("root"));
